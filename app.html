<!DOCTYPE html>


<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Application</title>

		<!-- Core bootstrap CSS -->
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

        <!-- d3 librarry -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script> 

        <!-- Ajax -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

        <!-- leaflet -->
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css" />
        <script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script>

        <!-- line chart source -->
        <script src="data.js"></script>
        <script src="lineChart.js"></script>

        <!-- jQuery -->
        <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

        <!-- Leaflet playback -->
        <script src="LeafletPlayback.js"></script>

        <script>
            $(function() {
                $( "#datepicker" ).datepicker();
            });
        </script>

		<!-- Custom styles for this template -->
		<link href="styles.css" rel="stylesheet">



	</head>
	
	<body onload="change()">
	        <!-- This section begins the bootstrap button headers -->
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">Project 2</a>

                </div>
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="app.html">Application</a></li>
                        <li><a href="facts.html">Facts</a></li>
                        <li><a href="setup.html">Setup</a></li>
                        <li><a href="data.html">Data</a></li>
                        <li><a href="work.html">Work</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="pageContent">
            <!-- PUT ALL PAGE CODE EITHER IN OR BELOW THIS DIV! OTHERWISE IT WILL FALL BELOW THE NAV BAR! -->
            <!--<img src="layout.JPG" alt="Layout" style="width:1500px;height:600px;">-->


            <div id="chartOne"></div>



            <!-- Listbox of hurricanes to populate with hurricane names -->
            <div class="inline" style="height:60vh">
                <select multiple id="hurricanelist" style="height:100%; width: 100px;">
                    <option value="Katrina">Katrina</option>
                </select>
            </div>
            <div class="inline" id = top style = "width: 50vw; height: 60vh;" >
                <div  id = "map" style = "height: 100%;"></div>

                <!--<div id = "map" style = "height: 50%;"></div>-->
                <div id = "legend" style = "height: 50% ; "></div>


            </div>
            <!--line chart-->
            <div id="chart"></div>

            <div id="chart1"></div>
            <!-- /line chart -->

            <br/>

        <!-- Options -->


            <fieldset style="width:300px">
                <legend>Options</legend>
                Display:
                <select id="optionselect" onchange="change()">
                    <option value ="showall">All</option>
                    <option value ="showfive">Top 5</option>
                    <option value ="showten">Top 10</option>
                    <option value ="showyear">Selected Year</option>
                </select>
                <br />

                Year:<select id="yearselect" onchange="change()">
                <option value="2005">2005</option>
                <option value="2006">2006</option>
                <option value="2007">2007</option>
                <option value="2008">2008</option>
                <option value="2009">2009</option>
                <option value="2010">2010</option>
                <option value="2011">2011</option>
                <option value="2012">2012</option>
                <option value="2013">2013</option>
                <option value="2014">2014</option>
            </select>
                <br />
                Date: <input type="text" id="datepicker"> <br />

                Sort By:
                <select id="sortby" onchange="changeOrder()">
                    <option value ="chronologically">Date</option>
                    <option value ="alphabetically">Alpha</option>
                    <option value ="MaxWindSpeed">Wind Speed</option>
                </select>
                <br />

                Show Heatmap: <input type="checkbox" id="heat" /> <br />
            </fieldset>

        <!--<div>-->
            <fieldset style="width:300px">
            <legend>Filters</legend>
            <input type="number" id="min_speed" style ="width:50px" /> < Wind Speed < <input type="number" id="max_speed" style ="width:50px"/> <br />
            <input type="number" id="min_pressure" style ="width:50px" /> < Pressure < <input type="number" id="max_pressure" style ="width:50px" /> <br />
            Made Land: <input type="checkbox" id="land" /> <br />
            </fieldset>
            <!-- This is a temporary placement for a button, just for testing the play functionality -->
            <button id="play" value = "paused" onclick="playHit()">Play/Pause</button>
            <br />

            <br />


    <!-- /Options -->




            <div>

            <script type="text/javascript">
                var select;
                var order;
                var orderHurr = 0; // can be 0,1,2 depending on user selection.
                var index;
                num = 0;

                var Namedict = [];
                var Timedict = [];
                var Speeddict = [];

                var mytop5 = [];
                var mytop10 = [];

                var latitute = [[], [], [], [], [], [], [], [], [], []];
                var langitute = [[], [], [], [], [], [], [], [], [], []];
                var wind = [[], [], [], [], [], [], [], [], [], []];
                var names = [[], [], [], [], [], [], [], [], [], []];

                //creating a 2d array with constant size of 170
                //since there are 170 distinct hurricane names
                // temporary solution !!!!.


                var latitute_id = [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []];


                var langitute_id = [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []];

                var wind_id = [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []];

                var year_id = [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []];

                var map = L.map('map').setView([41.83, -87.68], 4);

                var playbackOptions = {
                    playControl: true,
                    dateControl: true,
                    sliderControl: true
                };

                var playback = new L.Playback(map, null, null, playbackOptions);

                // creating a map

                L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
                    attribution: 'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://mapbox.com">Mapbox</a>',
                    maxZoom: 18,
                    noWrap: true,
                    id: 'ygordon22.cifd9ql4c53tbsmlx7cegx4iy',
                    accessToken: 'pk.eyJ1IjoieWdvcmRvbjIyIiwiYSI6ImNpZmQ5cW1idzUzeWFzNG03bjVqc3czZWEifQ.dpecRLb3F4lRAOvIVd5KpQ'
                }).addTo(map);



                function change() {
                    if (num != 0) {
                        //alert("removing");
                        d3.select(".map").remove();
                    }

                    var selectedIndex = select.property('selectedIndex'),
                    input = options[0][selectedIndex].__data__;
                    //var chosenYear = parseInt(input.Hurricane);
                    var chosenyear = document.getElementById("yearselect").value;
                    alert(chosenyear);

                    var selectedOption = document.getElementById("optionselect").value;
                    alert(selectedOption);
                    alert(document.getElementById("optionselect").value);
                    index = selectedIndex - 1;

                    //method to create linechart
                    updateChart1(HurrData[index]);
                    updateChart2(HurrData[index]);


                    var color;
//                    alert(JSON.stringify(chosenYear));

//                    if (input.Hurricane == 'All') {
                    if (selectedOption == "showall") {
                        alert('compare all');
                        for (var i = 0; i < 10; i++) {
                            for (var j = 0; j < wind[i].length; j++) {
                                if (wind[i][j] > 40) {  // coloring scheme
                                    color = 'red'
                                }
                                else {
                                    color = 'green'
                                }

                                // adding a circle for every hurricane generated by user specification.                
                                var circle = L.circle([latitute[i][j], langitute[i][j]], 500, {
                                    color: color,
                                    fillColor: '#f03',
                                    fillOpacity: 0.5
                                }).addTo(map)
                            }
                        }
                    }
//                    else if (input.Hurricane == 'TOP5') {
                    else if (selectedOption == "showfive") {
                        alert("get to top 5");
                        top5();
                        for (var k = 0; k < 5; k++) {
                            for (var j = 0; j < wind_id[mytop5[k]].length; j++) {
                                if (wind_id[mytop5[k]][j] > 40) {  // coloring scheme
                                    color = 'red'
                                }
                                else {
                                    color = 'green'
                                }

                                // adding a circle for every hurricane generated by user specification.                
                                var circle = L.circle([latitute_id[mytop5[k]][j], langitute_id[mytop5[k]][j]], 500, {
                                    color: color,
                                    fillColor: '#f03',
                                    fillOpacity: 0.5
                                }).addTo(map)
                            }
                        }
                    }
//                    else if (input.Hurricane == 'TOP10') {
                    else if (selectedOption == "showten") {
                        alert("get to top 10");
                        top10();
                        for (var k = 0; k < 10; k++) {
                            for (var j = 0; j < wind_id[mytop10[k]].length; j++) {
                                if (wind_id[mytop10[k]][j] > 40) {  // coloring scheme
                                    color = 'red'
                                }
                                else {
                                    color = 'green'
                                }

                                // adding a circle for every hurricane generated by user specification.                
                                var circle = L.circle([latitute_id[mytop10[k]][j], langitute_id[mytop10[k]][j]], 500, {
                                    color: color,
                                    fillColor: '#f03',
                                    fillOpacity: 0.5
                                }).addTo(map)
                            }
                        }


                    }

                    else {
/*
                        if(selectedOption == "showyear")*/
                            chosenYear = selectedYear;

                        alert(JSON.stringify(chosenYear));
                        var uniqueNames = [];
                        var mynames = [];
                        if (orderHurr == 0) {

                        }
                        else if (orderHurr == 1) {

                        }

                        else if (orderHurr == 2) {

                        }

                        $.each(names[index], function (i, el) {
                            if ($.inArray(el, uniqueNames) === -1) uniqueNames.push(el);
                        });
                        uniqueNames.push("all");
                    }
                    num++;


                    // Creating a legend with all hurricane name
                    svg = d3.select("body").selectAll("input")
                            .data(uniqueNames)
                            .enter()
                            .append('label')
                            .attr('for', function (d, i) { return 'a' + i; })
                            .text(function (d) { return d; })
                            .append("input")
                            .attr("val", false)
                            .attr("type", "checkbox")
                            .attr("id", function (d, i) { return uniqueNames[i]; })
                            .attr("onClick", "modify(this)");

                }

                function changeOrder() {
                    var selectedIndex = order.property('selectedIndex'),
                    input = options2[0][selectedIndex].__data__;
                    //var myorder = input.order;
                    var myorder = document.getElementById("sortby").value;
                    alert(myorder);

                    if (myorder == 'chronologically') {
                        console.log(JSON.stringify(Timedict));
                        orderHurr = 1;
                    }

                    else if (myorder = 'MaxWindSpeed') {
                        console.log(JSON.stringify(Speeddict));
                        orderHurr = 2;
                    }
                    else {
                        orderHurr = 0;
                    }
                };

                function modify(that) {
                    var val = $(that);//.attr("id");

                    if (val.context.attributes.val.value == "true") {
                        val.context.attributes.val.value = "false";
                        
                        //This is where we will need to run the remove code for a single hurricane.


                    } else {
                        val.context.attributes.val.value = "true"
                        for (var key in Namedict) {

                            alert(Namedict[key].value);
                            alert(Namedict[key].key);

                            var mykey = Namedict[key].key;

                            if (Namedict[key].value == val.attr("id")) {
                                alert("match");
                                console.log(wind_id[Namedict[key].key].length);
                                for (var i = 0; i < wind_id[Namedict[key].key].length; i++) {
                                    alert(wind_id[Namedict[key].key][i]);

                                    if (wind_id[Namedict[key].key][i] > 40) {  // coloring scheme
                                        color = 'red'
                                    }
                                    else {
                                        color = 'green'
                                    }


                                    // adding a circle for every hurricane generated by user specification.
                                    var circle = L.circle([latitute_id[mykey][i], langitute_id[mykey][i]], 500, {
                                        color: color,
                                        fillColor: '#f03',
                                        fillOpacity: 0.5
                                    }).addTo(map)

                                    alert('here');

                                }
                                break;
                            }
                        } // End of for loop.
                    }
                }; //End of modify function.

                function top5() {
                    var maxspeed = [];

                    Array.max = function (array) {
                        return Math.max.apply(Math, array);
                    };
                    // finding max speed for each hurricane 
                    for (var i = 0; i < wind_id.length; i++) {
                        maxspeed.push(Array.max(wind_id[i]));
                    }

                    // finding the strongest 5 hurricanes 

                    for (var k = 0; k < 5; k++) {
                        var i = maxspeed.indexOf(Math.max.apply(Math, maxspeed));
                        mytop5.push(i);
                        maxspeed.splice(i, 1);
                    }
                }; //End of the top 5 function.

                function top10() {
                    var maxspeed = [];
                    Array.max = function (array) {
                        return Math.max.apply(Math, array);
                    };
                    // finding max speed for each hurricane 
                    for (var i = 0; i < wind_id.length; i++) {
                        maxspeed.push(Array.max(wind_id[i]));
                    }

                    // finding the strongest 5 hurricanes 

                    for (var k = 0; k < 10; k++) {
                        var i = maxspeed.indexOf(Math.max.apply(Math, maxspeed));
                        mytop10.push(i);
                        maxspeed.splice(i, 1);
                    }
                }; //End of the top 10 function.

                d3.csv("data/Hurricanes.csv", function (error, text) {
                    console.log(text);
                    select = d3.select("body").append("select").on("change", change);
                    options = select.selectAll('option').data(text);
                    var selection = options.enter().append("option").text(function (d) { return d.Hurricane; });
                });

                d3.csv("data/order.csv", function (error, text) {
                    order = d3.select("body").append("select").on("change", changeOrder);
                    options2 = order.selectAll('option').data(text);
                    var selection2 = options2.enter().append("option").text(function (d) { return d.order; });

                });

                //The section below grabs the hurricanes from 2005-2014 and groups them by hurricane YEAR. Thus breaking the file into 10 objects instead of 5000 entries.
                d3.csv("data/AtlHurricane2005-2014.csv", function (error, text) {
                    var i = 0;
                    var data = d3.nest()
                        .key(function (d) {
                            return d.YEAR;
                        })
                    .rollup(function (leaves) {
                        for (var j = 0 ; j < leaves.length; j++) {
                            langitute[i][j] = (leaves[j].LOG);
                            latitute[i][j] = (leaves[j].LAT);
                            wind[i][j] = (leaves[j].MaxWind);
                            names[i][j] = (leaves[j].NAME);
                        }
                        i++;
                        return leaves.length;
                    })
                    .entries(text);
                });

                //The function below grabs the hurricane data and breaks it up into HURID.
                d3.csv("data/AtlHurricane2005-2014.csv", function (error, text) {
                    var i = 0;
                    var data = d3.nest()
                        .key(function (d) {
                            return d.HURID;
                        })
                    .rollup(function (leaves) {
                        //alert(JSON.stringify(leaves[0]));
                        for (var j = 0 ; j < leaves.length; j++) {
                            // creating arrays for all the hurricane

                            langitute_id[i][j] = (leaves[j].LOG);
                            latitute_id[i][j] = (leaves[j].LAT);
                            wind_id[i][j] = (leaves[j].MaxWind);
                            year_id[i][j] = (leaves[j].YEAR);
                        }

                        // Should be opposite, but it's not working
                        // very weird it always make the number the key ??
                        // works anyways 

                        Namedict.push({
                            key: i.toString(),
                            value: leaves[0].NAME
                        });

                        Timedict.push({
                            key: i.toString(),
                            value: leaves[0].MONTH
                        });

                        Speeddict.push({
                            key: i.toString(),
                            value: leaves[0].MaxWind
                        });


                        i++;
                        return leaves.length;
                    })
                        .entries(text);

                    //debugging code

                    /* console.log(langitute_id.toString());
                     console.log(latitute_id.toString());
                     console.log(wind_id.toString());
                     console.log(year_id.toString());
                     console.log('value of i',i);
                     
     
                   for ( var key in Namedict ) {
                       console.log(key);
                       console.log(Namedict[key].value);
                       console.log(Namedict[key].key);
                     }  
     
                      for ( var key in Speeddict ) {
                       console.log(key);
                       console.log(Speeddict[key].value);
                       console.log(Speeddict[key].key);
                      }
     
                      for ( var key in Timedict ) {
                       console.log(key);
                       console.log(Timedict[key].value);
                       console.log(Timedict[key].key);
                      }
                      */


                    Timedict = sortOnValue(Timedict);
                    Speeddict = sortOnValue(Speeddict);
                    /* 
                    console.log('after sorting');
                    
                     for ( var key in Timedict ) {
                        console.log(key);
                        console.log(Timedict[key].value);
                        console.log(Timedict[key].key);
                       }
                       
                    
                    console.log('printing the speeds');
                    
                    
                       for ( var key in Speeddict ) {
                        console.log(Speeddict[key].value);
                        console.log(Speeddict[key].key);
                       }
                       */

                });

                function sortOnValue(dict) {
                    var sortable = [];
                    var temp = []
                    for (var key in dict) {
                        sortable.push([key, dict[key].value])
                    }
                    sortable.sort(function (a, b) { return a[1] - b[1] })
                    // console.log(JSON.stringify(sortable));

                    for (var key in sortable) {
                        temp.push({
                            key: sortable[key][0],
                            value: sortable[key][1]
                        });
                    }

                    return temp;
                }; //End of the sortOnValue function.

                function playHit() {
                    console.log("just pushed play");
                    d3.csv("data/AtlHurricane2005-2014.csv", function (error, text) {
                        //Create a year array to hold the count of hurricanes per year.
                        var yearArray = [0,0,0,0,0,0,0,0,0,0];

                        //Group the data by hurricane id
                        var data = d3.nest()
                        .key(function(d) {
                            return d.HURID;
                        }).entries(text);

                        var hurricaneOne = data[0];
                        console.log(hurricaneOne);
                        var lnglat = [];
                        var time = [];

                        for (var i = 0; i < hurricaneOne.values.length; i++) {
                            var strDate;
                            lnglat.push([hurricaneOne.values[i].LOG, hurricaneOne.values[i].LAT]);
                            strDate = hurricaneOne.values[i].YEAR + " " + 
                                        hurricaneOne.values[i].MONTH + " " + 
                                        hurricaneOne.values[i].DAY + " " +
                                        hurricaneOne.values[i].HOURS[0] + hurricaneOne.values[i].HOURS[1] + 
                                        ":00:00";
                            //console.log(strDate);
                            //console.log(toTimestamp(strDate));
                            time.push(toTimestamp(strDate));
                            //Year Month Day time
/*  
                            var circle = L.circle([hurricaneOne.values[i].LAT, hurricaneOne.values[i].LOG], 500, { 
                                color: "red",
                                fillColor: "#f03",
                                fillOpacity: 0.5
                            }).addTo(map);

*/
                            //sleep(1000);
/*
                            var circle = L.circle([latitute_id[mykey][i], langitute_id[mykey][i]], 500, {
                                        color: color,
                                        fillColor: '#f03',
                                        fillOpacity: 0.5
                                    }).addTo(map)
*/
                        }; //End of the for function.

                        var geoJson = {
                            "type": "Feature",
                            "geometry": {
                                "type": "MultiPoint",
                                "coordinates": lnglat
                            },
                            "properties": {
                                "time": time
                            }

                        };

                        console.log(geoJson);

                        playback.setData(geoJson);

                        //var playback = new L.Playback(map, geoJson, null, playbackOptions);
                    }); //End the d3.csv call.
                }; //End of the Play function.

                function sleep(milliseconds) {
                    var start = new Date().getTime();
                    for (var i = 0; i < 1e7; i++) {
                        if ((new Date().getTime() - start) > milliseconds) {
                            break;
                        }
                    }
                }; //End of the sleep function.

                function toTimestamp(strDate) {
                    var datum = Date.parse(strDate);
                    return datum/1000;
                }; //End of the toTimestamp function.
            </script>




        </div>
        </div>
        <script type=text/javascript>
            d3.csv("data/AtlHurricane2005-2014.csv", function (error, text) {
                //Create a year array to hold the count of hurricanes per year.
                var yearArray = [0,0,0,0,0,0,0,0,0,0];

                //Group the data by hurricane id
                var data = d3.nest()
                .key(function(d) {
                    return d.HURID;
                }).entries(text);

                //Loop through the data to get the count of hurricanes per year.
                for (var i = 0; i < data.length; i++) {
                    //The "-0" is to force the conversion from string to integer for use in the switch case.
                    switch(data[i].values[0].YEAR - 0) {
                        case 2005:
                            yearArray[0]++;
                            console.log("2005");
                            break;
                        case 2006:
                            yearArray[1]++;
                            break;
                        case 2007:
                            yearArray[2]++;
                            break;
                        case 2008:
                            yearArray[3]++;
                            break;
                        case 2009:
                            yearArray[4]++;
                            break;
                        case 2010:
                            yearArray[5]++;
                            break;
                        case 2011:
                            yearArray[6]++;
                            break;
                        case 2012:
                            yearArray[7]++;
                            break;
                        case 2013:
                            yearArray[8]++;
                            break;
                        case 2014:
                            yearArray[9]++;
                            break;
                    }
                
                } //Ends the for loop.
                //Print out the content of the yearArray to the console for checking.
                //console.log(yearArray);
            }); //End the d3.csv call.
        </script>
	</body>
</html>